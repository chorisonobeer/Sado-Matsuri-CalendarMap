# プロジェクトの現状分析レポート

Geminiによるソースコードの調査結果を以下にまとめます。

## 1. アプリケーションの概要と現在の動作

このアプリケーションは、**地図と連動したイベント・店舗情報表示PWA（プログレッシブウェブアプリ）**です。

現在の主な動作は以下の通りです。

- **データ取得:**
  - アプリ起動時に、特定のURLからCSV形式のデータを取得します。
  - 取得したデータは、再アクセス時に素早く表示できるよう、ブラウザ内（`sessionStorage`）に一時的に保存（キャッシュ）されます。

- **メイン画面 (`/`):**
  - 画面は大きく左右に分かれた構成です。
  - **左側:** 取得したデータがカード形式で一覧表示されます。
  - **右側:** データに含まれる位置情報（緯度・経度）を元に、地図上にマーカーがプロットされます。

- **ユーザー操作:**
  - 画面左の一覧カード、または画面右の地図上のマーカーをクリックします。
  - クリックされたアイテム（イベントや店舗）の詳細情報が、画面中央にポップアップウィンドウ（モーダル）で表示されます。

- **その他:**
  - 画面下部のタブバーから、情報の一覧表示に特化したページや、カテゴリ別のページなどに移動できます。

## 2. プロジェクトの目的と現状の動作の乖離について

調査の過程で、プロジェクトが目指している目的と、現在の実際の動作との間に重要な**乖離**が見つかりました。

- **目的:**
  - プロジェクト名（Sado-Matsuri-Calendar）や、ソースコード内の記述（「佐渡の祭り・イベント」など）、`docs`フォルダ内のCSVファイル名から、このプロジェクトは**「佐渡祭りカレンダー」**を作成することを目的としています。

- **現状の動作:**
  - しかし、現在の設定ファイル (`src/config.json`) では、データの取得先として**「新潟のクラフトビールマップ」**のGoogleスプレッドシートが指定されています。
  - そのため、現状のままアプリを起動すると、**「新潟のクラフトビール店情報」**が地図と一覧に表示されます。

**結論として、このアプリケーションは「汎用の地図アプリテンプレート」をベースにしており、現在はテンプレートの初期設定（新潟クラフトビールマップ）のまま動作している状態です。「佐渡祭りカレンダー」として機能させるための、設定の変更やカスタマイズが次のステップとして必要であると考えられます。**
