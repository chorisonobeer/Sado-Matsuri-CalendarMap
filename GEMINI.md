# GEMINI.md: 佐渡祭りカレンダープロジェクト ガイド

このドキュメントは、佐渡祭りカレンダープロジェクトにおけるGeminiとの対話や開発作業を円滑にするためのガイドラインです。

## 1. プロジェクトの概要

- **プロジェクト名:** 佐渡祭りカレンダー (Sado-Matsuri-Calendar)
- **目的:** 佐渡島内の祭りやイベント情報を、カレンダーや地図上で分かりやすく提供するプログレッシブウェブアプリ（PWA）です。
- **主な使用技術:**
  - **フレームワーク:** React (v17)
  - **言語:** TypeScript
  - **スタイリング:** SCSS (Sass)
  - **ルーティング:** React Router (`react-router-dom`)
- **データソース:** イベントデータは主に `docs/佐渡祭りカレンダーデータベース.csv` というCSVファイルで管理されています。
- **公開環境:** このプロジェクトはNetlifyでデプロイ・運用されています（設定ファイル: `netlify.toml`）。

## 2. 開発のルール

### コーディングの基本方針
- **React:** 関数コンポーネントとHooks（`useState`, `useEffect`など）を基本として開発してください。
- **TypeScript:** すべてのコードはTypeScriptで記述し、適切な型付けを行ってください。
- **SCSS:** スタイリングにはSCSSを使用します。コンポーネントごとに対応する `.scss` ファイルを作成し、そこにスタイルを記述してください (例: `EventCard.tsx` と `EventCard.scss`)。

### コードの書き方（命名規則など）
- **フォーマット:** プロジェクト全体のコードスタイルやフォーマットは、既存のコードに合わせてください。ESLintのルール (`react-app`プリセット) に準拠します。
- **命名規則:**
  - **コンポーネント:** `PascalCase` (例: `EventCard`, `MapView`)
  - **変数・関数:** `camelCase` (例: `calculateDistance`, `fetchEvents`)
- **参考:** `src/App/` ディレクトリ内の既存コンポーネントを参考にしてください。

### パッケージ管理
- **ツール:** パッケージ（依存関係）の管理には `npm` を使用します。
- **コマンド:** 新しいパッケージを追加する際は `npm install [パッケージ名]` を実行してください。

### テストのルール
- **実行:** `npm test` コマンドでテストを実行します。
- **作成:** 新しいテストは、React Testing LibraryとJestを使用して記述してください。

### コミットメッセージ
- **言語:** 日本語で記述してください。
- **内容:** 変更内容が簡潔に分かるように記述してください。(例: `イベント詳細モーダルの表示を修正`)

## 3. 主要なファイルとディレクトリ

- `src/App.tsx`: アプリケーション全体のメインコンポーネント。ルーティングの定義もここに含まれます。
- `src/App/`: 各画面や機能ごとのコンポーネントが格納されているディレクトリです。
- `src/lib/csv.ts`: CSVデータを解析・処理するためのロジックが記述されています。
- `src/types.d.ts`: プロジェクト全体で使われるTypeScriptの型定義ファイルです。
- `docs/佐渡祭りカレンダーデータベース.csv`: イベント情報のマスターデータです。データの追加や修正はこのファイルで行います。
- `public/`: `index.html`や画像など、静的ファイルが格納されています。
- `package.json`: プロジェクトの依存関係やスクリプト（`npm start`など）が定義されています。
- `netlify.toml`: Netlifyでのデプロイ設定が記述されています。

## 4. 現在の開発計画

現在、プロジェクトの公式な開発計画に基づき、タスクを遂行します。

- **計画書:** `development-plan.md`
- **遵守事項:** この計画書に記載されたフェーズとタスクの順序、および `./.trae/rules/project_rules.md` のルールを厳守します。
- **現在の最優先事項:** **フェーズ0: 開発環境の正常化（TypeScriptコンパイルエラーの解消）**